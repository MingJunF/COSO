model:
  dim_treatments: 4
  dim_vitals: 0
  dim_static_features: 1
  dim_outcomes: 1
  dim_cosovitals: ???
  dim_abstract_confounders: ???
  dim_s: ???
  name: CT
  multi:
    _target_: src.models.ct.CT
    max_seq_length: ${sum:${dataset.max_seq_length},${dataset.projection_horizon}}
    seq_hidden_units: 16
    br_size: 16
    fc_hidden_units: 48
    dropout_rate: 0.1
    num_layer: 1
    num_heads: 2
    max_grad_norm: null
    batch_size: 128
    attn_dropout: true
    disable_cross_attention: false
    isolate_subnetwork: _
    self_positional_encoding:
      absolute: false
      trainable: true
      max_relative_position: 15
    optimizer:
      optimizer_cls: adam
      learning_rate: 0.001
      weight_decay: 0.0
      lr_scheduler: false
    augment_with_masked_vitals: true
    tune_hparams: Ture
    tune_range: 20
    hparams_grid:
      num_layer:
      - 1
      num_heads:
      - 2
      learning_rate:
      - 0.01
      - 0.001
      - 0.0001
      batch_size:
      - 64
      - 128
      - 256
      seq_hidden_units:
      - 1.0
      - 2.0
      - 3.0
      - 4.0
      br_size:
      - 0.5
      - 1.0
      - 2.0
      - 3.0
      - 4.0
      fc_hidden_units:
      - 0.5
      - 1.0
      - 2.0
      - 3.0
      - 4.0
      dropout_rate:
      - 0.1
      - 0.2
      - 0.3
      - 0.4
      - 0.5
    resources_per_trial:
      cpu: 0.4
      gpu: 0.25
  self_positional_encoding:
    max_relative_position: 15
dataset:
  val_batch_size: 512
  treatment_mode: multiclass
  _target_: src.data.SyntheticVitalDatasetCollection
  name: tumor_generator
  seed: ${exp.seed}
  split:
    val: 0.15
    test: 0.15
  window_size: 15
  lag: 0
  max_seq_length: 60
  projection_horizon: 5
  cf_seq_mode: sliding_treatment
  time_step: 30
  coeff: 0.0
exp:
  seed: 100
  gpus:
  - 0
  max_epochs: 150
  logging: true
  mlflow_uri: http://127.0.0.1:5000
  unscale_rmse: true
  percentage_rmse: true
  alpha: 0.01
  update_alpha: true
  alpha_rate: exp
  balancing: domain_confusion
  bce_weight: false
  weights_ema: true
  beta: 0.99
